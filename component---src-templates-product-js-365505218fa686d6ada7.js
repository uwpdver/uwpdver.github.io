(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[633],{7980:function(){!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var e=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&void 0!==navigator.userAgent&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return e=!1;e=!0}}))}catch(o){}if(void 0===HTMLElement.prototype.nativeFocus&&!e){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(e){for(var t=0;t<e.length;t++)e[t][0].scrollTop=e[t][1],e[t][0].scrollLeft=e[t][2];e=[]};HTMLElement.prototype.focus=function(e){if(e&&e.preventScroll){var t=function(e){for(var t=e.parentNode,n=[],o=document.scrollingElement||document.documentElement;t&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=o,n.push([t,t.scrollTop,t.scrollLeft]),n}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){n(t)}),0):n(t)}else this.nativeFocus()}}}}()},6919:function(e,t,n){"use strict";var o=n(7294),r=n(4626),a=n(1994);t.Z=function(e){var t=e.className,n=void 0===t?"":t,i=e.contentClassName,l=void 0===i?"":i,c=e.title,u=e.children;return o.createElement(r.E.section,{className:n+" pt-2 pb-4 sm:pt-4 sm:pb-8",variants:a.q},o.createElement("h4",{className:"mb-4 font-bold"},c),o.createElement("div",{className:l},u))}},9706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o=n(7294),r=n(5186),a=n(1652),i=n(9357),l=n(6919),c=(n(7980),n(3935)),u=n(8499),s=function(e){return"".concat(e,"ms")},d=function(e){var t=e.height,n=e.innerHeight,o=e.innerWidth,r=e.isLoaded,a=e.isUnloading,i=e.left,l=e.originalTransform,c=e.top,d=e.transitionDuration,f=e.width,m=e.zoomMargin,v=s(d);if(!r||a){var g=(0,u.ev)(["scale(1)","translate(0, 0)"],l?[l]:[],!0).join(" ");return{height:t,left:i,top:c,transform:g,WebkitTransform:g,transitionDuration:v,width:f}}var h=function(e){var t=e.height,n=e.innerHeight,o=e.innerWidth,r=e.width,a=e.zoomMargin,i=o/(r+a),l=n/(t+a);return Math.min(i,l)}({height:t,innerWidth:o,innerHeight:n,width:f,zoomMargin:m}),p=(o/2-(i+f/2))/h,E=(n/2-(c+t/2))/h,b=(0,u.ev)(["scale(".concat(h,")"),"translate(".concat(p,"px, ").concat(E,"px)")],l?[l]:[],!0).join(" ");return{height:t,left:i,top:c,transform:b,WebkitTransform:b,transitionDuration:v,width:f}},f=function(e){var t=e.isLoaded,n=e.isUnloading,o=e.overlayBgColorEnd,r=e.overlayBgColorStart,a=e.transitionDuration,i=e.zoomZindex,l={backgroundColor:r,transitionDuration:s(a),zIndex:i};return t&&!n&&(l.backgroundColor=o),l},m={getBoundingClientRect:function(){return{height:0,left:0,top:0,width:0}},style:{transform:null}},v=function(e){var t,n=(0,o.useRef)(e);n.current=e,t=function(){return function(){return n.current()}},(0,o.useEffect)(t,[])},g=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n="undefined"!=typeof window,r=function(e){var t=(0,o.useRef)(0),n=(0,o.useState)(e),r=n[0],a=n[1],i=(0,o.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){a(e)}))}),[]);return v((function(){cancelAnimationFrame(t.current)})),[r,i]}({width:n?window.innerWidth:e,height:n?window.innerHeight:t}),a=r[0],i=r[1];return(0,o.useEffect)((function(){if(n){var e=function(){i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[n,i]),a};function h(e){var t=(0,o.useRef)();return(0,o.useEffect)((function(){t.current=e})),t.current}var p=(0,o.memo)((function(e){var t=e.children,n=e.closeText,r=void 0===n?"Unzoom Image":n,a=e.isActive,i=e.onLoad,l=e.onUnload,u=e.onZoomChange,s=e.overlayBgColorEnd,v=void 0===s?"rgba(255, 255, 255, 0.95)":s,p=e.overlayBgColorStart,E=void 0===p?"rgba(255, 255, 255, 0)":p,b=e.parentRef,y=e.portalEl,w=void 0===y?document.body:y,C=e.scrollableEl,k=void 0===C?window:C,z=e.transitionDuration,x=void 0===z?300:z,L=e.zoomMargin,S=void 0===L?0:L,T=e.zoomZindex,B=void 0===T?2147483647:T,Z=(0,o.useRef)(null),M=(0,o.useState)(0)[1],D=(0,o.useState)(a),N=D[0],R=D[1],U=(0,o.useState)(!1),H=U[0],W=U[1],A=(0,o.useState)(!1),F=A[0],P=A[1],I=h(N),_=h(a),j=h(H),q=g(),O=q.width,V=q.height,G=(0,o.useCallback)((function(e){e.preventDefault(),u&&u(!1)}),[u]),J=(0,o.useCallback)((function(e){!N||"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),u&&u(!1))}),[N,u]),K=(0,o.useCallback)((function(){M((function(e){return e+1})),!F&&u&&u(!1)}),[F,u]);(0,o.useEffect)((function(){return document.addEventListener("keydown",J),function(){document.removeEventListener("keydown",J)}}),[J]),(0,o.useEffect)((function(){var e;return null===(e=null==k?void 0:k.addEventListener)||void 0===e||e.call(k,"scroll",K),function(){var e;null===(e=null==k?void 0:k.removeEventListener)||void 0===e||e.call(k,"scroll",K)}}),[K,k]),(0,o.useEffect)((function(){!I&&N&&(W(!0),Z.current&&Z.current.focus({preventScroll:!0}))}),[N,I]),(0,o.useEffect)((function(){_&&!a&&P(!0),!_&&a&&R(!0)}),[a,_]),(0,o.useEffect)((function(){var e;return F&&(e=setTimeout((function(){W(!1),R(!1),P(!1)}),x)),function(){clearTimeout(e)}}),[F,x]),(0,o.useEffect)((function(){!j&&H&&i(),j&&!H&&l()}),[H,i,l,j]);var Q=b.current||m,X=Q.getBoundingClientRect(),Y=X.height,$=X.left,ee=X.top,te=X.width,ne=f({isLoaded:H,isUnloading:F,overlayBgColorEnd:v,overlayBgColorStart:E,transitionDuration:x,zoomZindex:B}),oe=d({height:Y,isLoaded:H,innerHeight:V,innerWidth:O,isUnloading:F,left:$,originalTransform:Q.style.transform,top:ee,transitionDuration:x,width:te,zoomMargin:S});return N?(0,c.createPortal)(o.createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:ne},o.createElement("div",{"data-rmiz-modal-content":!0,style:oe},t),o.createElement("button",{"aria-label":r,"data-rmiz-btn-close":!0,onClick:G,ref:Z,type:"button"})),w):null})),E=((0,o.memo)((function(e){var t=e.children,n=e.closeText,r=void 0===n?"Unzoom image":n,a=e.isZoomed,i=e.overlayBgColorEnd,l=void 0===i?"rgba(255, 255, 255, 0.95)":i,c=e.overlayBgColorStart,u=void 0===c?"rgba(255, 255, 255, 0)":c,s=e.portalEl,d=e.onZoomChange,f=e.openText,m=void 0===f?"Zoom image":f,v=e.scrollableEl,g=e.transitionDuration,h=void 0===g?300:g,E=e.wrapElement,b=void 0===E?"div":E,y=e.wrapStyle,w=e.zoomMargin,C=void 0===w?0:w,k=e.zoomZindex,z=void 0===k?2147483647:k,x=(0,o.useState)(!1),L=x[0],S=x[1],T=(0,o.useRef)(null),B=(0,o.useRef)(null),Z=(0,o.useCallback)((function(e){!a&&d&&(e.preventDefault(),d(!0))}),[a,d]),M=(0,o.useCallback)((function(){S(!0)}),[]),D=(0,o.useCallback)((function(){S(!1),B.current&&B.current.focus({preventScroll:!0})}),[]),N=L?"hidden":"visible";return o.createElement(o.StrictMode,null,o.createElement(b,{"data-rmiz-wrap":N,ref:T,style:y},t,o.createElement("button",{"aria-label":m,"data-rmiz-btn-open":!0,onClick:Z,ref:B,type:"button"}),"undefined"!=typeof window&&o.createElement(p,{closeText:r,isActive:a,onLoad:M,onUnload:D,onZoomChange:d,overlayBgColorEnd:l,overlayBgColorStart:u,parentRef:T,portalEl:s,scrollableEl:v,transitionDuration:h,zoomMargin:C,zoomZindex:z},t)))})),(0,o.memo)((function(e){var t=e.children,n=e.closeText,r=void 0===n?"Unzoom Image":n,a=e.onUnload,i=e.onLoad,l=e.overlayBgColorEnd,u=void 0===l?"rgba(255, 255, 255, 0.95)":l,s=e.overlayBgColorStart,v=void 0===s?"rgba(255, 255, 255, 0)":s,h=e.parentRef,p=e.portalEl,E=void 0===p?document.body:p,b=e.scrollableEl,y=void 0===b?window:b,w=e.transitionDuration,C=void 0===w?300:w,k=e.zoomMargin,z=void 0===k?0:k,x=e.zoomZindex,L=void 0===x?2147483647:x,S=(0,o.useRef)(null),T=(0,o.useState)(0)[1],B=(0,o.useState)(!1),Z=B[0],M=B[1],D=(0,o.useState)(!1),N=D[0],R=D[1],U=g(),H=U.width,W=U.height,A=(0,o.useCallback)((function(e){e.preventDefault(),R(!0)}),[]),F=(0,o.useCallback)((function(e){"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),R(!0))}),[]),P=(0,o.useCallback)((function(){T((function(e){return e+1})),N||R(!0)}),[N]);(0,o.useEffect)((function(){return document.addEventListener("keydown",F),function(){document.removeEventListener("keydown",F)}}),[F]),(0,o.useEffect)((function(){var e;return null===(e=null==y?void 0:y.addEventListener)||void 0===e||e.call(y,"scroll",P),function(){var e;null===(e=null==y?void 0:y.removeEventListener)||void 0===e||e.call(y,"scroll",P)}}),[P,y]),(0,o.useEffect)((function(){M(!0),i(),S.current&&S.current.focus({preventScroll:!0})}),[i]),(0,o.useEffect)((function(){var e=N?setTimeout(a,C):null;return function(){e&&clearTimeout(e)}}),[N,a,C]);var I=h.current||m,_=I.getBoundingClientRect(),j=_.height,q=_.left,O=_.top,V=_.width,G=f({isLoaded:Z,isUnloading:N,overlayBgColorEnd:u,overlayBgColorStart:v,transitionDuration:C,zoomZindex:L}),J=d({height:j,isLoaded:Z,innerHeight:W,innerWidth:H,isUnloading:N,left:q,originalTransform:I.style.transform,top:O,transitionDuration:C,width:V,zoomMargin:z});return(0,c.createPortal)(o.createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:G},o.createElement("div",{"data-rmiz-modal-content":!0,style:J},t),o.createElement("button",{"aria-label":r,"data-rmiz-btn-close":!0,onClick:A,ref:S})),E)}))),b=(0,o.memo)((function(e){var t=e.children,n=e.closeText,r=void 0===n?"Unzoom image":n,a=e.overlayBgColorEnd,i=void 0===a?"rgba(255, 255, 255, 0.95)":a,l=e.overlayBgColorStart,c=void 0===l?"rgba(255, 255, 255, 0)":l,u=e.portalEl,s=e.openText,d=void 0===s?"Zoom image":s,f=e.scrollableEl,m=e.transitionDuration,v=void 0===m?300:m,g=e.wrapElement,h=void 0===g?"div":g,p=e.wrapStyle,b=e.zoomMargin,y=void 0===b?0:b,w=e.zoomZindex,C=void 0===w?2147483647:w,k=(0,o.useState)(!1),z=k[0],x=k[1],L=(0,o.useState)(!1),S=L[0],T=L[1],B=(0,o.useRef)(null),Z=(0,o.useRef)(null),M=(0,o.useCallback)((function(e){z||(e.preventDefault(),x(!0))}),[z]),D=(0,o.useCallback)((function(){T(!0)}),[]),N=(0,o.useCallback)((function(){x(!1),T(!1),Z.current&&Z.current.focus({preventScroll:!0})}),[]),R=z&&S?"hidden":"visible";return o.createElement(o.StrictMode,null,o.createElement(h,{"data-rmiz-wrap":R,ref:B,style:p},t,o.createElement("button",{"aria-label":d,"data-rmiz-btn-open":!0,onClick:M,ref:Z}),"undefined"!=typeof window&&z&&o.createElement(E,{closeText:r,onLoad:D,onUnload:N,overlayBgColorEnd:i,overlayBgColorStart:c,parentRef:B,portalEl:u,scrollableEl:f,transitionDuration:v,zoomMargin:y,zoomZindex:C},t)))})),y=function(e){var t=e.pageContext,n=e.location,c=t.name,u=t.snapshots,s=t.description,d=t.siteUrl,f=(0,o.useRef)(null),m=function(e){if(f.current){var t=f.current.children,n=t[0].getBoundingClientRect().width,o=f.current.scrollWidth,r=f.current.scrollLeft,a=parseInt((n+r)/o*t.length),i=e?Math.max(0,a-1):Math.min(a+1,t.length-1);f.current.children[i].scrollIntoView({behavior:"smooth",inline:"center"})}};return o.createElement(a.Z,{location:n,title:"所有作品",to:"/products"},o.createElement(i.Z,{title:c}),o.createElement(r.q,{title:c}),o.createElement("div",{className:"product-page divide-y"},o.createElement("header",{className:"flex justify-between items-center mb-8"},o.createElement("h1",{className:"text-4xl font-bold"},c),o.createElement("a",{className:"bg-blue-50 p-2 px-3 rounded-lg",href:d,target:"_blank",rel:"noreferrer"},"访问网站")),o.createElement(l.Z,{title:"屏幕截图"},o.createElement("div",{className:"relative"},o.createElement("button",{className:"hidden sm:block absolute z-20 top-1/2 bg-gray-100 hover:bg-gray-300 hover:shadow-xl rounded-lg py-4 px-2 transform -translate-y-1/2 left-2",onClick:m.bind(null,!0)},"<"),o.createElement("button",{className:"hidden sm:block absolute z-20 top-1/2 bg-gray-100 hover:bg-gray-300 hover:shadow-xl rounded-lg py-4 px-2 transform -translate-y-1/2 right-2",onClick:m.bind(null,!1)},">"),o.createElement("ul",{className:"product-snapshots-wrapper space-x-4",ref:f},u.map((function(e,t){return o.createElement("li",{className:"product-snapshot-item rounded-lg",key:t},o.createElement(b,null,o.createElement("img",{className:"product-snapshot-img",src:e.src,alt:"snapshot "+(t+1)})))}))))),o.createElement(l.Z,{title:"描述"},o.createElement("p",{className:"text-sm leading-6"},s))))}}}]);
//# sourceMappingURL=component---src-templates-product-js-365505218fa686d6ada7.js.map